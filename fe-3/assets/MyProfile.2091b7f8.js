import{_ as K}from"./github-copilot.951fda1a.js";import{b as z,c as H,u as J,a as Q,d as y,r as p,j as X,o as d,e as i,f as e,g as m,w as P,n as L,h as r,p as j,t as _,F as Z,q as N,i as D,A as w,T as c}from"./index.72df8a16.js";import{B as ee}from"./BreadCrumb.a3741b2a.js";import{F as q,a as x}from"./vee-validate.esm.c6e53b52.js";import{m as te,l as se}from"./id.39307e7a.js";const ae={class:"pt-4 px-10 md:flex justify-between"},le=e("div",null,[e("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm"},"Profile")],-1),oe={class:"md:py-0 py-4"},ne=D(" Profile "),de=D(" Index "),ie=e("div",{class:"px-4 pt-10"},[e("h3",{class:"font-bold"},"UPDATE DATA YAYASAN")],-1),re={class:"px-4 py-0"},ce={class:"w-full"},ue={class:"bg-base-100 shadow-lg rounded-lg px-0 py-0"},pe={class:"w-full lg:w-fi mx-0"},me={class:"p-2 sm:p-6 xl:p-8"},_e={class:"pt-0 px-0"},fe={class:"w-full mx-0"},he={class:"rounded-lg p-0 sm:p-6 xl:p-0"},ve={class:"grid md:grid-cols-2 gap-2"},xe=e("label",{for:"name",class:"text-sm font-medium text-base-content block mb-2"},"Nama",-1),be={class:"text-xs text-red-600 mt-1"},ge=e("label",{for:"name",class:"text-sm font-medium text-base-content block mb-2"},"Alamat",-1),ye={class:"text-xs text-red-600 mt-1"},we=e("div",null,[e("label",{for:"name",class:"text-sm font-medium text-base-content block mb-2"},"Status"),e("select",{class:"select select-bordered w-full",disabled:""},[e("option",null,"Aktif"),e("option",null,"Nonaktif")])],-1),ke=e("label",{for:"name",class:"text-sm font-medium text-base-content block mb-2"},"Nama Kepala Yayasan",-1),Se={class:"text-xs text-red-600 mt-1"},Ae=e("label",{for:"name",class:"text-sm font-medium text-base-content block mb-2"},"No Telp",-1),Pe={class:"text-xs text-red-600 mt-1"},De=e("div",{class:"w-full flex justify-end mt-4 px-20"},[e("button",{class:"btn btn-lg btn-primary"},"Simpan")],-1),Ve=e("div",{class:"px-4 py-10"},[e("h3",{class:"font-bold"},"UPDATE PASSWORD")],-1),Fe={class:"px-4 py-0 shadow-lg"},Ue={class:"w-full"},Be={class:"bg-base-100 shadow rounded-lg px-0 py-0"},Ce={class:"w-full lg:w-fi mx-0"},Te={class:"p-2 sm:p-6 xl:p-8"},Le={class:"pt-0 px-0"},je={class:"w-full mx-0"},qe={class:"rounded-lg p-0 sm:p-6 xl:p-0"},Ke={class:"grid md:grid-cols-2 gap-2"},Ne=e("label",{for:"password",class:"text-sm font-medium text-base-content block mb-2"},"Password",-1),Oe={class:"text-xs text-red-600 mt-1"},Ye=e("label",{for:"password2",class:"text-sm font-medium text-base-content block mb-2"},"Konfirmasi Password",-1),Re={class:"text-xs text-red-600 mt-1"},Ee={class:"w-full flex justify-end mt-4 px-20 gap-4"},Ie=e("div",{class:"collapse collapse-arrow shadow-sm border border-spacing-1"},[e("input",{type:"checkbox"}),e("div",{class:"collapse-title text-md font-bold"}," Catatan : "),e("div",{class:"collapse-content text-sm"},[e("p",null,"# Minimal 3 Karakter")])],-1),We={key:0,class:"btn btn-lg btn-primary"},$e=e("div",{class:"px-4 py-4"},[e("h3",{class:"font-bold"},"UPDATE PHOTO")],-1),Ge={class:"w-full flex justify-center flex-wrap"},Me={class:"xl:flex felx-wrap gap-10 xl:w-full px-4 justify-center space-y-4"},ze={class:"card xl:w-2/5 bg-base-100 shadow-xl"},He={class:"w-full flex justify-center"},Je={class:"avatar hover:scale-110 transition-all duration-500",for:"my-modal-1"},Qe={class:"w-52 mask mask-squircle"},Xe=["src"],Ze={key:1,src:K},et=e("input",{type:"checkbox",id:"my-modal-1",class:"modal-toggle"},null,-1),tt={for:"my-modal-1",class:"modal cursor-pointer"},st={class:"modal-box relative",for:""},at=["src"],lt={key:1,src:K},ot={class:"card-body items-center text-center"},nt={class:"card-title"},dt=e("p",null,"LOGO YAYASAN",-1),it=e("div",{class:"card-actions"},null,-1),rt={class:"px-10 pt-2"},ct=e("p",{class:"text-sm font-bold"},"Pilih Logo Yayasan :",-1),ut={class:"flex justify-end px-10 pb-4"},pt={class:"card xl:w-2/5 bg-base-100 shadow-xl"},mt={class:"w-full flex justify-center"},_t={class:"avatar hover:scale-110 transition-all duration-500",for:"my-modal-2"},ft={class:"w-52 mask mask-squircle"},ht=["src"],vt={key:1,src:N},xt=e("input",{type:"checkbox",id:"my-modal-2",class:"modal-toggle"},null,-1),bt={for:"my-modal-2",class:"modal cursor-pointer"},gt={class:"modal-box relative",for:""},yt=["src"],wt={key:1,src:N},kt={class:"card-body items-center text-center"},St={class:"card-title"},At=e("p",null,"KEPALA YAYASAN",-1),Pt=e("div",{class:"card-actions"},null,-1),Dt={class:"px-10 pt-2"},Vt=e("p",{class:"text-sm font-bold"},"Pilih Photo Kepala YAYASAN :",-1),Ft={class:"flex justify-end px-10 pb-4"},Ut=e("div",{class:"collapse collapse-arrow shadow-sm border border-spacing-1"},[e("input",{type:"checkbox"}),e("div",{class:"collapse-title text-md font-bold"},"Catatan Upload PHOTO:"),e("div",{class:"collapse-content text-sm"},[e("p",null,"# Extensi : .jpg / .png"),e("p",null,[D("# Max Size : 1 MB"),e("br")])])],-1),Ot={__name:"MyProfile",setup(Bt){z(),H(),te.updateLocale("id",se);const b=J();Q().setPagesActive("profile"),y(()=>b.getPaket),y(()=>b.getStats);const v=y(()=>b.getIdentitas),V=y(()=>b.getSekolah),F=p([]),o=p({nama:v.value.nama,kepala:v.value.kepala,alamat:v.value.alamat,telp:v.value.telp,status_login:v.value.status_login?v.value.status_login:"Aktif"}),g=s=>s?s.length<1?"This Field must be at least 2 characters":!0:"This field is required";b.$subscribe((s,t)=>{});const O=()=>{Y()},Y=async s=>{let t={nama:o.value.nama,kepala:o.value.kepala,alamat:o.value.alamat,telp:o.value.telp,status_login:o.value.status_login?o.value.status_login:"Aktif"};try{const n=await w.post("yayasan/myprofile/update",t);return c.success("Success","Data Berhasil update!"),n.data}catch(n){c.danger("Warning","Data gagal ditambahkan!"),console.error(n)}},k=p(!1),R=()=>{c.warning("Info","Gagal! Password tidak sama!")},u=p({password:"",password_confirmation:""}),U=()=>{u.value.password!=""&&(u.value.password!=u.value.password_confirmation?k.value=!1:k.value=!0)},B=s=>s?s.length<3?"This Field must be at least 2 characters":!0:"This field is required",E=()=>{I()},I=async s=>{let t={password:u.value.password};try{const n=await w.post("yayasan/myprofile/updatepassword",t);return c.success("Success","Data Berhasil update!"),n.data}catch(n){c.danger("Warning","Data gagal ditambahkan!"),console.error(n)}},C=s=>s?s.size>1048576?(c.danger("Warning","File harus kurang dari 1mb!"),!1):s.type!="image/jpeg"&&s.type!="image/png"?(c.danger("Warning","File harus jpg/png!"),!1):!0:(c.danger("Info","Pilih File terlebih dahulu!"),!1),T=async(s,t)=>{let n="";t=="logo"?n="yayasan/myprofile/upload/logo":t=="kepala"?n="yayasan/myprofile/upload/kepala":n="yayasan/myprofile/upload/user";let l=new FormData;l.append("file",s);try{const a=await w.post(n,l,{headers:{"Content-Type":"multipart/form-data"}});return c.success("Success","Data Berhasil update!"),console.log(a),a.data}catch(a){c.danger("Warning","Data gagal ditambahkan!"),console.error(a)}},f=p(null),S=p(null),W=()=>{C(S.value)&&T(S.value,"logo")},$=s=>{let t=s.target.files[0];S.value=t,f.value=URL.createObjectURL(t),console.log(t,f.value)},h=p(null),A=p(null),G=()=>{C(A.value)&&T(A.value,"kepala")},M=s=>{let t=s.target.files[0];A.value=t,h.value=URL.createObjectURL(t),console.log(t,h.value)};return(async()=>{try{const s=await w.get("yayasan/myprofile/upload/getphoto");return f.value=s.data.logo,h.value=s.data.kepala,s.data}catch(s){console.error(s)}})(),(s,t)=>{const n=X("BreadCrumbSpace");return d(),i(Z,null,[e("div",ae,[le,e("div",oe,[m(ee,null,{content:P(()=>[ne,m(n),de]),_:1})])]),ie,e("div",re,[e("div",ce,[e("div",ue,[e("div",pe,[e("div",me,[F.value?(d(),L(r(q),{key:0,onSubmit:O},{default:P(({errors:l})=>[e("div",_e,[e("div",fe,[e("div",he,[e("div",ve,[e("div",null,[xe,m(r(x),{modelValue:o.value.nama,"onUpdate:modelValue":t[0]||(t[0]=a=>o.value.nama=a),rules:g,type:"text",name:"nama",ref:"nama",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue"]),e("div",be,_(l.nama),1)]),e("div",null,[ge,m(r(x),{modelValue:o.value.alamat,"onUpdate:modelValue":t[1]||(t[1]=a=>o.value.alamat=a),rules:g,type:"text",name:"alamat",ref:"alamat",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue"]),e("div",ye,_(l.alamat),1)]),we,e("div",null,[ke,m(r(x),{modelValue:o.value.kepala,"onUpdate:modelValue":t[2]||(t[2]=a=>o.value.kepala=a),rules:g,type:"text",name:"kepala",ref:"kepala",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue"]),e("div",Se,_(l.kepala),1)]),e("div",null,[Ae,m(r(x),{modelValue:o.value.telp,"onUpdate:modelValue":t[3]||(t[3]=a=>o.value.telp=a),rules:g,type:"text",name:"telp",ref:"telp",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue"]),e("div",Pe,_(l.telp),1)])]),De])])])]),_:1})):j("",!0)])])])])]),Ve,e("div",Fe,[e("div",Ue,[e("div",Be,[e("div",Ce,[e("div",Te,[F.value?(d(),L(r(q),{key:0,onSubmit:E},{default:P(({errors:l})=>[e("div",Le,[e("div",je,[e("div",qe,[e("div",Ke,[e("div",null,[Ne,m(r(x),{modelValue:u.value.password,"onUpdate:modelValue":t[4]||(t[4]=a=>u.value.password=a),rules:B,type:"password",name:"password",ref:"password",class:"input input-bordered md:w-full max-w-2xl",onKeyup:t[5]||(t[5]=a=>U()),required:""},null,8,["modelValue"]),e("div",Oe,_(l.password),1)]),e("div",null,[Ye,m(r(x),{modelValue:u.value.password_confirmation,"onUpdate:modelValue":t[6]||(t[6]=a=>u.value.password_confirmation=a),rules:B,type:"password",name:"password_confirmation",ref:"password_confirmation",onKeyup:t[7]||(t[7]=a=>U()),class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue"]),e("div",Re,_(l.password_confirmation),1)])]),e("div",Ee,[Ie,k.value?(d(),i("button",We," Simpan ")):(d(),i("span",{key:1,class:"btn btn-lg btn-dark",onClick:t[8]||(t[8]=a=>R())}," Simpan "))])])])])]),_:1})):j("",!0)])])])])]),$e,e("div",Ge,[e("div",Me,[e("div",ze,[e("div",He,[e("label",Je,[e("div",Qe,[f.value?(d(),i("img",{key:0,src:f.value},null,8,Xe)):(d(),i("img",Ze))])])]),et,e("label",tt,[e("label",st,[f.value?(d(),i("img",{key:0,src:f.value},null,8,at)):(d(),i("img",lt))])]),e("div",ot,[e("h2",nt,_(r(V).nama),1),dt,it]),e("div",rt,[ct,e("input",{type:"file",name:"photoLogoSekolah",onChange:t[9]||(t[9]=l=>$(l)),class:"input md:w-full max-w-2xl",required:""},null,32)]),e("div",ut,[e("button",{class:"btn btn-lg btn-primary",onClick:t[10]||(t[10]=l=>W())}," UPLOAD ")])]),e("div",pt,[e("div",mt,[e("label",_t,[e("div",ft,[h.value?(d(),i("img",{key:0,src:h.value},null,8,ht)):(d(),i("img",vt))])]),xt,e("label",bt,[e("label",gt,[h.value?(d(),i("img",{key:0,src:h.value},null,8,yt)):(d(),i("img",wt))])])]),e("div",kt,[e("h2",St,_(r(V).kepala),1),At,Pt]),e("div",Dt,[Vt,e("input",{type:"file",name:"photoKepalaSekolah",onChange:t[11]||(t[11]=l=>M(l)),class:"input md:w-full max-w-2xl",required:""},null,32)]),e("div",Ft,[e("button",{class:"btn btn-lg btn-primary",onClick:t[12]||(t[12]=l=>G())}," UPLOAD ")])])])]),Ut],64)}}};export{Ot as default};
