var R=Object.defineProperty,T=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var L=(_,r,h)=>r in _?R(_,r,{enumerable:!0,configurable:!0,writable:!0,value:h}):_[r]=h,w=(_,r)=>{for(var h in r||(r={}))z.call(r,h)&&L(_,h,r[h]);if(A)for(var h of A(r))J.call(r,h)&&L(_,h,r[h]);return _},g=(_,r)=>T(_,F(r));import{a as $,b as H,c as N,r as k,z as O,j as M,o as i,e as d,f as a,g as p,Q as U,h as f,F as D,s as G,w as x,n as Q,A as C,T as W,t as j,i as q}from"./index.5860200e.js";const X=a("div",{class:"pt-4 px-10 md:flex justify-between"},[a("div",null,[a("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm"}," Analisa Penjurusan")]),a("div",{class:"md:py-0 py-4 space-x-2 space-y-2"})],-1),Y={class:"w-full bg-base-200 shadow py-4 px-4"},Z={class:"flex justify-center gap-2"},I={class:"py-2"},aa=["href"],ea=a("button",{class:"btn hover:shadow-lg btn-success shadow text-white hover:text-gray-100 gap-2"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})]),q(" Export ")],-1),ta=[ea],sa={class:"w-full bg-base-200 shadow shadow-md py-4 px-4"},na={class:"flex justify-center gap-2 w-full flex-wrap"},la={class:"collapse"},oa=a("input",{type:"checkbox"},null,-1),ia=a("div",{class:"collapse-title text-xl font-medium bg-gray-300 rounded-lg text-gray-600 text-center"}," List Pilihan Data ",-1),da={class:"collapse-content"},ca={class:"flex justify-center gap-2 w-full flex-wrap py-2"},ra={class:"form-control"},ua=["onClick"],ha={class:"label-text px-2"},_a=["checked"],ka={class:"md:py-2 px-4 lg:flex flex-wrap gap-4"},ma={class:"w-full lg:w-full"},fa={class:"bg-base-200 shadow rounded-lg px-4 py-4"},pa={key:0},va={key:0},ba={class:"text-sm font-medium text-center flex justify-center"},wa={key:0},ga=a("button",{"data-tip":"Deteksi",class:"tooltip btn btn-success btn-sm text-base-content"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1),xa={key:1,"data-tip":"Data API PRO BK tidak ditemukan",class:"tooltip btn btn-warning btn-sm text-base-content"},ya=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),Sa=[ya],Ma={key:1},ja={class:"text-sm font-medium text-center flex justify-center"},Ka={key:0},Ba=a("button",{"data-tip":"Penanganan Masalah Deteksi",class:"tooltip btn btn-success btn-sm text-base-content"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1),Aa={key:1,"data-tip":"Data API PRO BK tidak ditemukan",class:"tooltip btn btn-warning btn-sm text-base-content"},La=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),Da=[La],Ca={key:2},Pa={class:"text-sm font-medium text-center flex justify-center"},Ea={key:0},Va=a("button",{"data-tip":"Sertifikat",class:"tooltip btn btn-success btn-sm text-base-content"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1),Ra={key:1,"data-tip":"Data API PRO BK tidak ditemukan",class:"tooltip btn btn-warning btn-sm text-base-content"},Ta=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),Fa=[Ta],za={key:3},Ja={class:"text-sm font-medium text-center flex justify-center"},$a={key:0},Ha=a("button",{"data-tip":"Terapis",class:"tooltip btn btn-success btn-sm text-base-content"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1),Na={key:1,"data-tip":"Data API PRO BK tidak ditemukan",class:"tooltip btn btn-warning btn-sm text-base-content"},Oa=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),Ua=[Oa],Ga={key:4},Qa={class:"text-center"},Wa={key:5},ee={__name:"Index",setup(_){const r="https://be.ypmt-psiprobk.com/";$().setsubMenuActive("penjurusan"),H();const m=N().params.id,v=k([]),u=k([]),y=k([{label:"No",field:"no",width:"50px",tdClass:"text-center",thClass:"text-center"},{label:"Nama Siswa",field:"nama",type:"String"},{label:"Kelas",field:"kelas_nama",type:"String"},{label:"Tipe Minat - Bakat Rank 1",field:"tipe_bakat_1",type:"String"}]);(async()=>{try{const t=await C.get(`yayasan/datasekolah/${m}}/datasiswa/withsertifikat`);return v.value=t.data,v.value.forEach((e,c)=>{let n={};e.sertifikat_data&&l.value.forEach(o=>{n[o.id]=e.sertifikat_data[o.id]}),u.value.push(g(w({},e),{nama:e.nama,id:e.id,kelas:`${e.kelas?e.kelas.nama:""}`})),l.value.forEach(o=>{u.value[c][o.id]=n[o.id]})}),t.data}catch(t){console.error(t)}})();const K=k([]),b=k({label:"Semua Kelas",id:"Semua Kelas"});let B=k([{label:"Semua Kelas",id:"Semua Kelas"},{label:"Belum masuk Kelas",id:"Belum masuk Kelas"}]);(async()=>{try{const t=await C.get(`yayasan/datasekolah/${m}/kelas`);return K.value=t.data,K.value.forEach(e=>{B.value.push({label:e.nama,id:e.id})}),t}catch(t){W.danger("Warning","Data Gagal dimuat"),console.error(t)}})();const P=()=>{if(b.value.id==="Semua Kelas")v.value.forEach((t,e)=>{let c={};t.sertifikat_data&&l.value.forEach(n=>{c[n.id]=t.sertifikat_data[n.id]}),u.value.push(g(w({},t),{nama:t.nama,id:t.id,kelas:`${t.kelas?t.kelas.nama:""}`})),l.value.forEach(n=>{u.value[e][n.id]=c[n.id]})});else if(b.value.id==="Belum masuk Kelas"){let t=v.value.filter(e=>e.kelas===null);t.length>0?t.forEach((e,c)=>{let n={};e.sertifikat_data&&l.value.forEach(o=>{n[o.id]=e.sertifikat_data[o.id]}),u.value.push(g(w({},e),{nama:e.nama,id:e.id,kelas:`${e.kelas?e.kelas.nama:""}`})),l.value.forEach(o=>{u.value[c][o.id]=n[o.id]})}):u.value=[]}else{let t=v.value.filter(e=>e.kelas_id==b.value.id);t.length>0?(u.value=[],t.forEach((e,c)=>{let n={};e.sertifikat_data&&l.value.forEach(o=>{n[o.id]=e.sertifikat_data[o.id]}),u.value.push(g(w({},e),{nama:e.nama,id:e.id,kelas:`${e.kelas?e.kelas.nama:""}`})),l.value.forEach(o=>{u.value[c][o.id]=n[o.id]})})):u.value=[]}},l=k([{label:"Tipe Minat - Bakat Rank 1",id:"tipe_bakat_1",checked:!0},{label:"Tipe Minat - Bakat Rank 2",id:"tipe_bakat_2",checked:!1},{label:"Tipe Minat - Bakat Rank 3",id:"tipe_bakat_3",checked:!1},{label:"Studi lanjut dari SMP yg diinginkan",id:"mnt_studi_lanjut_smp",checked:!1},{label:"Jurusan SMA yg diinginkan",id:"mnt_studi_lanjut_sma",checked:!1},{label:"Jurusan SMK yg diinginkan 1",id:"mnt_studi_lanjut_smk_1",checked:!1},{label:"Jurusan SMK yg diinginkan 2",id:"mnt_studi_lanjut_smk_2",checked:!1},{label:"Jurusan SMK yg diinginkan 3",id:"mnt_studi_lanjut_smk_3",checked:!1},{label:"Disarankan Jurusan 1",id:"saran_fakultas_1",checked:!1},{label:"Dipertimbangkan Jurusan 2",id:"saran_fakultas_2",checked:!1},{label:"Tidak Disarankan Jurusan 3",id:"kesimpulan_tambahan",checked:!1},{label:"Studi Lanjut SMA/SMK Fakultas 1",id:"mnt_studi_lanjut_sma_smk_1_fakultas",checked:!1},{label:"Studi Lanjut SMA/SMK Prodi 1",id:"mnt_studi_lanjut_sma_smk_1_prodi",checked:!1},{label:"Studi Lanjut SMA/SMK Fakultas 2",id:"mnt_studi_lanjut_sma_smk_2_fakultas",checked:!1},{label:"Studi Lanjut SMA/SMK Prodi 2",id:"mnt_studi_lanjut_sma_smk_2_prodi",checked:!1},{label:"Studi Lanjut SMA/SMK Kedinasan",id:"mnt_studi_lanjut_sma_smk_kedinasan",checked:!1},{label:"Sekolah Lanjutan",id:"sekolah_lanjutan",checked:!1},{label:"Sekolah Jurusan",id:"sekolah_jurusan",checked:!1},{label:"Saran ke Fakultas 1",id:"saran_fakultas_1",checked:!1},{label:"Saran ke Fakultas 1 Prodi",id:"saran_fakultas_1_prodi",checked:!1},{label:"Saran ke Fakultas 2",id:"saran_fakultas_2",checked:!1},{label:"Saran ke Fakultas 2 Prodi",id:"saran_fakultas_2_prodi",checked:!1},{label:"Keterangan",id:"keterangan",checked:!1}]),E=t=>{l.value[t].checked=!l.value[t].checked,l.value[t].checked?y.value.push({label:l.value[t].label,field:l.value[t].id,type:l.value[t].type?l.value[t].type:"String"}):y.value.forEach((e,c)=>{e.field===l.value[t].id&&y.value.splice(c,1)})},S=k("kb_persen");return O(l.value,(t,e)=>{S.value=[],l.value.forEach((c,n)=>{c.checked&&S.value.push(c.id)})}),(t,e)=>{const c=M("v-select"),n=M("router-link"),o=M("vue-good-table");return i(),d(D,null,[X,a("div",Y,[a("div",Z,[p(c,{class:U(["py-2 px-3 w-72 mx-auto md:mx-0",{disabled:!1}]),options:f(B),modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=s=>b.value=s)},null,8,["options","modelValue"]),a("div",I,[a("button",{class:"btn btn-sm btn-info p-2",onClick:e[1]||(e[1]=s=>P())}," Cari ")]),a("a",{href:f(r)+"api/admin/proses/export/datasiswa/"+f(m)+"/get?listdata="+S.value,target:"_blank"},ta,8,aa)])]),a("div",sa,[a("div",na,[a("div",la,[oa,ia,a("div",da,[a("div",ca,[(i(!0),d(D,null,G(l.value,(s,V)=>(i(),d("div",null,[a("div",ra,[a("label",{class:"cursor-pointer label",onClick:Za=>E(V)},[a("span",ha,j(s.label),1),a("input",{type:"checkbox",checked:s.checked,class:"checkbox checkbox-secondary"},null,8,_a)],8,ua)])]))),256))])])])])]),a("div",ka,[a("div",ma,[a("div",fa,[u.value?(i(),d("div",pa,[p(o,{columns:y.value,rows:u.value,"search-options":{enabled:!0},"pagination-options":{enabled:!0,perPageDropdown:[10,20,50]},styleClass:"vgt-table striped bordered condensed",class:"py-0"},{"table-row":x(s=>[s.column.field=="deteksi"?(i(),d("span",va,[a("div",ba,[s.row.siswadetail.length>0?(i(),d("div",wa,[p(n,{to:{name:"AdminSekolah",params:{id:f(m),id2:s.row.id}}},{default:x(()=>[ga]),_:2},1032,["to"])])):(i(),d("button",xa,Sa))])])):s.column.field=="deteksipenanganan"?(i(),d("span",Ma,[a("div",ja,[s.row.siswadetail.length>0?(i(),d("div",Ka,[p(n,{to:{name:"AdminSekolah",params:{id:f(m),id2:s.row.id}}},{default:x(()=>[Ba]),_:2},1032,["to"])])):(i(),d("button",Aa,Da))])])):s.column.field=="sertifikat"?(i(),d("span",Ca,[a("div",Pa,[s.row.siswadetail.length>0?(i(),d("div",Ea,[p(n,{to:{name:"AdminSekolah",params:{id:f(m),id2:s.row.id}}},{default:x(()=>[Va]),_:2},1032,["to"])])):(i(),d("button",Ra,Fa))])])):s.column.field=="terapis"?(i(),d("span",za,[a("div",Ja,[s.row.siswadetail.length>0?(i(),d("div",$a,[p(n,{to:{name:"AdminSekolah",params:{id:f(m),id2:s.row.id}}},{default:x(()=>[Ha]),_:2},1032,["to"])])):(i(),d("button",Na,Ua))])])):s.column.field=="no"?(i(),d("span",Ga,[a("div",Qa,j(s.index+1),1)])):(i(),d("span",Wa,j(s.formattedRow[s.column.field]),1))]),_:1},8,["columns","rows"])])):Q("",!0)])])])],64)}}};export{ee as default};
