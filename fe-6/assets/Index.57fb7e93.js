import{m as k,l as P}from"./id.ff5df025.js";import{u as T,d as g,a as $,b as E,c as I,r as c,j as w,o as n,e as o,f as e,g as i,w as u,p as L,F as N,A as v,t as m,i as h}from"./index.fc06c4ac.js";import{B as V}from"./BreadCrumb.fbfc3a03.js";import{B as K}from"./BreadCrumbSpace.ec2385ea.js";import{B as z}from"./ButtonEdit.f92d8c0a.js";import{B as M}from"./ButtonDel.170e6075.js";const Y={class:"pt-4 px-10 md:flex justify-between"},H=e("div",null,[e("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm"},"Klasifikasi Akademis dan Profesi ")],-1),O={class:"md:py-0 py-4"},F=h(" Klasifikasi "),G=h(" Index "),J={class:"md:pt-6"},U={class:"md:flex justify-between px-10"},q={class:"space-x-1 space-y-1 pt-1 md:pt-0"},Q=e("button",{class:"btn btn-info hover:shadow-lg shadow text-white hover:text-gray-100 gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})]),h(" Tambah ")],-1),W=e("button",{class:"btn btn-sm"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})])],-1),X=[W],Z=e("div",{class:"space-x-1 space-y-1 pt-1 md:pt-0"},null,-1),ee={class:"md:py-2 px-4 lg:flex flex-wrap gap-4"},te={class:"w-full lg:w-full"},ae={class:"bg-white shadow rounded-lg px-4 py-4"},se={key:0},ne={key:0},oe={class:"text-sm font-medium text-center flex justify-center space-x-1"},ie={key:1},le={class:"text-center"},de={key:2},re={class:"text-left"},ce={key:3},ve={__name:"Index",setup(ue){k.updateLocale("id",P);const b={}.VITE_API_URL,_=T();g(()=>_.getSekolah),_.$subscribe((t,s)=>{}),$().setPagesActive("klasifikasi");const x=E();I();const y=c([]),r=c([]),B=[{label:"Actions",field:"actions",sortable:!1,width:"50px",tdClass:"text-center",thClass:"text-center"},{label:"Bidang",field:"bidang",type:"String"},{label:"Akademis",field:"akademis",type:"String"},{label:"Profesi",field:"profesi",type:"String"},{label:"Nilai Standart",field:"nilaistandart",type:"String"},{label:"IQ Standart",field:"iqstandart",type:"String"},{label:"Jurusan & Bidang Studi yang ditekuni",field:"jurusandanbidangstudi",type:"String"},{label:"Pekerjaan & Keterangan",field:"pekerjaandanketerangan",type:"String"},{label:"Link",field:"ket",type:"String"}];(async()=>{try{const t=await v.get("owner/klasifikasi");return y.value=t.data,r.value=t.data,t.data}catch(t){console.error(t)}})();const S=async(t,s)=>{x.push({name:"AdminKlasifikasiEdit",params:{id:t}})},C=async(t,s)=>{if(confirm("Apakah anda yakin menghapus data ini?"))try{const d=await v.delete(`owner/klasifikasi/${t}`);return r.value.splice(s,1),Toast.success("Success","Data Berhasil dihapus!"),d.data}catch(d){console.error(d)}},l=c([]),p=g(()=>l.value.selectedRows?j():l.value.selectedRows),f=t=>window.btoa(t),A=(t=k().format("YYYY-MM-Do"))=>{p.value.length<1?Toast.danger("Warning","Pilih data terlebih dahulu!"):window.open(`${b}api/guest/cetak/klasifikasi/?token=${f(t)}&data=${f(JSON.stringify(p.value))}`)},j=()=>{let t=[];return l.value.selectedRows.length>0&&l.value.selectedRows.forEach(s=>{t.push(s.id)}),t};return(t,s)=>{const d=w("router-link"),R=w("vue-good-table");return n(),o(N,null,[e("div",Y,[H,e("div",O,[i(V,null,{content:u(()=>[F,i(K),G]),_:1})])]),e("div",J,[e("div",U,[e("div",q,[i(d,{to:{name:"AdminKlasifikasiTambah"}},{default:u(()=>[Q]),_:1}),e("a",{onClick:s[0]||(s[0]=a=>A())},X)]),Z])]),e("div",ee,[e("div",te,[e("div",ae,[r.value?(n(),o("div",se,[i(R,{ref_key:"myTable",ref:l,onOnSelectedRowsChange:t.selectionChanged,"line-numbers":!0,"select-options":{enabled:!0},columns:B,rows:r.value,"search-options":{enabled:!0},"pagination-options":{enabled:!0,perPageDropdown:[10,20,50]},styleClass:"vgt-table striped bordered condensed",class:"py-0"},{"table-row":u(a=>[a.column.field=="actions"?(n(),o("span",ne,[e("div",oe,[i(z,{onClick:D=>S(a.row.id,a.index)},null,8,["onClick"]),i(M,{onClick:D=>C(a.row.id,a.index)},null,8,["onClick"])])])):a.column.field=="no"?(n(),o("span",ie,[e("div",le,m(a.index+1),1)])):a.column.field=="pekerjaandanketerangan"?(n(),o("span",de,[e("div",re,m(a.row.pekerjaandanketerangan.slice(0,40)+"..."),1)])):(n(),o("span",ce,m(a.formattedRow[a.column.field]),1))]),_:1},8,["onOnSelectedRowsChange","rows"])])):L("",!0)])])])],64)}}};export{ve as default};
