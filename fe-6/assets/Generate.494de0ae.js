import{q as F,G as M,r as d,d as o,v as j,o as p,e as m,f as t,k as W,N as R,b as L,c as V,j as O,g as D,w as K,h as z,t as v,p as H,F as J,V as Q,A as U,T as q}from"./index.156f8da1.js";function X(){return Math.random().toString(16).substring(2)}var B=F({props:{diameter:{type:Number,required:!1,default:200},totalSteps:{type:Number,required:!0,default:10},completedSteps:{type:Number,required:!0,default:0},startColor:{type:String,required:!1,default:"#00C58E"},stopColor:{type:String,required:!1,default:"#00E0A1"},innerStrokeColor:{type:String,required:!1,default:"#2F495E"},strokeWidth:{type:Number,required:!1,default:10},innerStrokeWidth:{type:Number,required:!1,default:10},strokeLinecap:{type:String,required:!1,default:"round"},animateSpeed:{type:Number,required:!1,default:1e3},fps:{type:Number,required:!1,default:60},timingFunc:{type:String,required:!1,default:"linear"},isClockwise:{type:Boolean,required:!1,default:!0}},setup(e){const u=M({fx:.99,fy:.5,cx:.5,cy:.5,r:.65}),g=`rg-${X()}`,n=d(0),a=d(0),c=d(null),w=o(()=>e.diameter/2),h=o(()=>e.diameter-e.innerStrokeWidth*2),k=o(()=>Math.PI*h.value),S=o(()=>e.totalSteps===0?0:100/e.totalSteps),A=o(()=>S.value*e.completedSteps),C=o(()=>2*Math.PI/e.totalSteps),x=o(()=>100/e.fps),y=o(()=>e.animateSpeed/x.value),N=o(()=>C.value/y.value),P=o(()=>h.value/2),E=o(()=>({height:`${e.diameter}px`,width:`${e.diameter}px`})),T=o(()=>({height:`${e.diameter}px`,width:`${e.diameter}px`,strokeWidth:`${e.strokeWidth}px`,strokeDashoffset:n.value,transition:`stroke-dashoffset ${e.animateSpeed}ms ${e.timingFunc}`})),i=o(()=>({height:`${e.diameter}px`,width:`${e.diameter}px`,strokeWidth:`${e.innerStrokeWidth}px`})),I=o(()=>({width:`${h.value}px`}));j(()=>[e.diameter,e.totalSteps,e.completedSteps,e.strokeWidth],s,{immediate:!0});function r(f){const G=.5+.5*Math.cos(f),$=.5+.5*Math.sin(f);return{x:G,y:$}}function l(){const f=r(a.value);f.x&&f.y&&(u.fx=f.x,u.fy=f.y)}function _(){return e.isClockwise?1:-1}function s(){n.value=(100-A.value)/100*k.value*_(),c.value&&clearInterval(c.value);const f=(e.completedSteps-1)*C.value;let b=(a.value-f)/N.value;const G=Math.abs(b-y.value)/y.value,$=b<y.value;c.value=setInterval(()=>{if($&&b>=y.value||!$&&b<y.value){c.value&&clearInterval(c.value);return}a.value=f+N.value*b,l(),b+=$?G:-G},x.value)}return{gradientAnimation:c,innerCircleRadius:P,radialGradientId:g,strokeDashoffset:n,innerCircleStyle:I,containerStyle:E,circumference:k,progressStyle:T,currentAngle:a,strokeStyle:i,gradient:u,radius:w}}});const Y=["width","height"],Z=["id","fx","fy","cx","cy","r"],ee=["stop-color"],te=["stop-color"],ae=["r","cx","cy","stroke","stroke-dasharray","stroke-linecap"],se=["transform","r","cx","cy","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap"];function ne(e,u,g,n,a,c){return p(),m("div",{class:"vrp__wrapper",style:R(e.containerStyle)},[t("div",{class:"vrp__inner",style:R(e.innerCircleStyle)},[W(e.$slots,"default")],4),(p(),m("svg",{width:e.diameter,height:e.diameter,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},[t("defs",null,[t("radialGradient",{id:e.radialGradientId,fx:e.gradient.fx,fy:e.gradient.fy,cx:e.gradient.cx,cy:e.gradient.cy,r:e.gradient.r},[t("stop",{offset:"30%","stop-color":e.startColor},null,8,ee),t("stop",{offset:"100%","stop-color":e.stopColor},null,8,te)],8,Z)]),t("circle",{r:e.innerCircleRadius,cx:e.radius,cy:e.radius,fill:"transparent",stroke:e.innerStrokeColor,"stroke-dasharray":e.circumference,"stroke-dashoffset":"0","stroke-linecap":e.strokeLinecap,style:R(e.strokeStyle)},null,12,ae),t("circle",{transform:"rotate(270, "+e.radius+","+e.radius+")",r:e.innerCircleRadius,cx:e.radius,cy:e.radius,fill:"transparent",stroke:`url('#${e.radialGradientId}')`,"stroke-dasharray":e.circumference,"stroke-dashoffset":e.circumference,"stroke-linecap":e.strokeLinecap,style:R(e.progressStyle)},null,12,se)],8,Y))],4)}function re(e,u){u===void 0&&(u={});var g=u.insertAt;if(!(!e||typeof document=="undefined")){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",g==="top"&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var le=`
.vrp__wrapper[data-v-6a0cf1f6] {\r
  position: relative;
}
.vrp__inner[data-v-6a0cf1f6] {\r
  position: absolute;\r
  top: 0;\r
  right: 0;\r
  bottom: 0;\r
  left: 0;\r
  border-radius: 50%;\r
  margin: 0 auto;\r
  display: flex;\r
  flex-direction: column;\r
  align-items: center;\r
  justify-content: center;
}\r
`;re(le);B.render=ne;B.__scopeId="data-v-6a0cf1f6";var oe=(()=>{const e=B;return e.install=u=>{u.component("RadialProgressBar",e)},e})();const ie={class:"w-full flex flex-wrap justify-center"},de={class:"w-1/2 flex justify-center gap-10"},ue={class:"font-bold text-2xl"},ce={class:"py-4 font-bold"},fe=t("h1",null,"Proses Stats :",-1),ve={class:"w-full 2xl:w-1/2 flex justify-center"},he={class:"py-4 font-bold"},pe=t("h1",null,"Statistik Akun Siswa:",-1),me={class:"space-x-2 py-2"},ye={class:"space-x-2 py-4 px-10 flex justify-center"},ge={class:"md:py-2 lg:flex flex-wrap gap-4"},Se={class:"w-full lg:w-full"},be={class:"bg-white shadow rounded-lg px-4 py-4"},ke={key:0},_e={key:0},we={class:"text-sm font-medium text-center flex justify-center space-x-1"},Ae=["onClick"],Ce={key:1},xe={class:"text-center"},Ee={key:2},$e={key:0,class:"text-center"},Ne={key:1,class:"text-center"},Ge={key:3},Re=Q('<div><h1>Catatan :</h1><p> 1. Pilih Proses <span class="font-extrabold">&quot;GENERATE AKUN BARU&quot;</span> / <span class="font-extrabold"> &quot;RESET SEMUA AKUN&quot;</span></p><p> 2. Kemudian pilih tombol <span class="font-extrabold"> &quot;LAKUKAN PROSES GENERATE&quot;</span> untuk memulai proses </p><p> 3. Kemudian <span class="font-extrabold"> &quot;REFRESH DATA&quot;</span> untuk mendapatkan update data terbaru dari server! . </p></div>',1),Pe={__name:"Generate",setup(e){L();const g=V().params.id,n=d(0),a=d(0),c=d(0),w=d(0),h=d(0),k=d(0),S=d(0),A=(r="baru")=>{n.value=0,c.value=0,w.value=0,a.value=i.value.length},C=async(r=0,l=0,_="list")=>{try{const s=await U.post(`owner/datasekolah/${g}/siswa/generateakun/persiswa/${r}`);return _=="list"?(c.value++,n.value++,i.value[l].username="1",x()):q.babeng("Info","Proses Selesai!"),s.data}catch(s){_=="list"?(w.value++,n.value++,x()):q.babeng("Info","Proses Gagal!"),console.error(s)}},x=()=>{a.value==n.value&&q.babeng("Info","Proses Selesai!")},y=async()=>{try{const r=await U.get(`owner/datasekolah/${g}/siswa/generateakun/list`);return A(),h.value=r.data.dataBelumDiGenerate,k.value=r.data.dataSudahDiGenerate,S.value=r.data.dataAll,i.value=h.value.data,a.value=i.value.length,r.data}catch(r){console.error(r)}};y();const N=()=>{E.value="baru",A("baru"),i.value=h.value.data,a.value=h.value.data.length},P=()=>{E.value="all",A("all"),i.value=S.value.data,a.value=S.value.data.length},E=d("baru"),T=()=>{if(confirm("Apakah anda yakin Generate data ini?"))try{q.babeng("Info",`Proses Generate Akun dimulai! ${E.value}`),a.value=i.value.length,i.value.forEach((r,l)=>{console.log(r.id),C(r.id,l)})}catch(r){console.error(r)}},i=d([]),I=[{label:"Actions",field:"actions",sortable:!1,width:"50px",tdClass:"text-center",thClass:"text-center"},{label:"Nama",field:"nama",type:"String"},{label:"Status",field:"status",type:"String"}];return(r,l)=>{const _=O("vue-good-table");return p(),m(J,null,[t("div",ie,[t("div",de,[t("div",null,[D(z(oe),{diameter:200,"completed-steps":n.value,"total-steps":a.value,"start-color":"#0500ff","stop-color":"#00b7ff"},{default:K(()=>[t("h2",ue,v(n.value)+" / "+v(a.value),1)]),_:1},8,["completed-steps","total-steps"])]),t("div",null,[t("div",ce,[fe,t("h4",null,"# Total Steps : "+v(a.value),1),t("h4",null,"# Completed Steps :"+v(n.value),1),t("h4",null,"# Proses Berhasil : "+v(c.value),1),t("h4",null,"# Proses Gagal :"+v(w.value),1)])])]),t("div",ve,[t("div",null,[t("div",he,[pe,t("h4",null," # Akun Belum di Generate : "+v(h.value?h.value.count:0),1),t("h4",null," # Akun Sudah di Generate : "+v(k.value?k.value.count:0),1),t("h4",null,"# Total Siswa : "+v(S.value?S.value.count:0),1)]),t("div",me,[t("button",{class:"btn btn-warning",onClick:l[0]||(l[0]=s=>N())}," GENERATE AKUN BARU "),t("button",{class:"btn btn-danger",onClick:l[1]||(l[1]=s=>P())}," RESET SEMUA AKUN "),t("button",{class:"btn btn-secondary",onClick:l[2]||(l[2]=s=>y())}," REFRESH DATA ")])])])]),t("div",ye,[t("button",{class:"btn btn-primary",onClick:l[3]||(l[3]=s=>T())}," LAKUKAN PROSES GENERATE ! ")]),t("div",ge,[t("div",Se,[t("div",be,[i.value?(p(),m("div",ke,[D(_,{"line-numbers":!0,columns:I,rows:i.value,"search-options":{enabled:!0},"pagination-options":{enabled:!0,perPageDropdown:[10,20,50]},styleClass:"vgt-table striped bordered condensed",class:"py-0"},{"table-row":K(s=>[s.column.field=="actions"?(p(),m("span",_e,[t("div",we,[t("button",{class:"btn btn-sm btn-warning",onClick:f=>C(s.row.id,s.index,"personal")}," RESET ",8,Ae)])])):s.column.field=="no"?(p(),m("span",Ce,[t("div",xe,v(s.index+1),1)])):s.column.field=="status"?(p(),m("span",Ee,[s.row.username!=""&&s.row.username!=null?(p(),m("div",$e," Sudah ")):(p(),m("div",Ne,"Belum"))])):(p(),m("span",Ge,v(s.formattedRow[s.column.field]),1))]),_:1},8,["rows"])])):H("",!0)])])]),Re],64)}}};export{Pe as default};
