var R=Object.defineProperty,H=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var D=(k,r,u)=>r in k?R(k,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):k[r]=u,b=(k,r)=>{for(var u in r||(r={}))N.call(r,u)&&D(k,u,r[u]);if(K)for(var u of K(r))T.call(r,u)&&D(k,u,r[u]);return k},g=(k,r)=>H(k,z(r));import{a as $,b as F,c as O,r as _,v as U,j as M,o as i,e as d,f as e,g as f,S as G,h as p,F as S,R as W,w as x,p as q,A,T as J,t as C,i as Q}from"./index.4a2704ea.js";const X=e("div",{class:"pt-4 px-10 md:flex justify-between"},[e("div",null,[e("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm"}," Analisa Minat dan Bakat")]),e("div",{class:"md:py-0 py-4 space-x-2 space-y-2"})],-1),Y={class:"w-full bg-base-200 shadow py-4 px-4"},Z={class:"flex justify-center gap-2"},I={class:"py-2"},ee=["href"],ae=e("button",{class:"btn hover:shadow-lg btn-success shadow text-white hover:text-gray-100 gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})]),Q(" Export ")],-1),te=[ae],se={class:"w-full bg-base-200 shadow shadow-md py-4 px-4"},oe={class:"flex justify-center gap-2 w-full flex-wrap"},ne={class:"collapse"},le=e("input",{type:"checkbox"},null,-1),ie=e("div",{class:"collapse-title text-xl font-medium bg-gray-300 rounded-lg text-gray-600 text-center"}," List Pilihan Data ",-1),de={class:"collapse-content"},ce={class:"flex justify-center gap-2 w-full flex-wrap py-2"},re={class:"form-control"},he=["onClick"],ue={class:"label-text px-2"},ke=["checked"],_e={class:"md:py-2 px-4 lg:flex flex-wrap gap-4"},ve={class:"w-full lg:w-full"},pe={class:"bg-base-200 shadow rounded-lg px-4 py-4"},me={key:0},fe={key:0},we={class:"text-sm font-medium text-center flex justify-center"},be={key:0},ge=e("button",{"data-tip":"Deteksi",class:"tooltip btn btn-success btn-sm text-base-content"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1),xe={key:1,"data-tip":"Data API PRO BK tidak ditemukan",class:"tooltip btn btn-warning btn-sm text-base-content"},ye=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),je=[ye],Me={key:1},Ce={class:"text-sm font-medium text-center flex justify-center"},Be={key:0},Pe=e("button",{"data-tip":"Penanganan Masalah Deteksi",class:"tooltip btn btn-success btn-sm text-base-content"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1),Ke={key:1,"data-tip":"Data API PRO BK tidak ditemukan",class:"tooltip btn btn-warning btn-sm text-base-content"},De=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),Se=[De],Ae={key:2},Ee={class:"text-sm font-medium text-center flex justify-center"},Le={key:0},Ve=e("button",{"data-tip":"Sertifikat",class:"tooltip btn btn-success btn-sm text-base-content"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1),Re={key:1,"data-tip":"Data API PRO BK tidak ditemukan",class:"tooltip btn btn-warning btn-sm text-base-content"},He=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),ze=[He],Ne={key:3},Te={class:"text-sm font-medium text-center flex justify-center"},$e={key:0},Fe=e("button",{"data-tip":"Terapis",class:"tooltip btn btn-success btn-sm text-base-content"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1),Oe={key:1,"data-tip":"Data API PRO BK tidak ditemukan",class:"tooltip btn btn-warning btn-sm text-base-content"},Ue=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),Ge=[Ue],We={key:4},qe={class:"text-center"},Je={key:5},aa={__name:"Index",setup(k){const r="https://be.ypmt-psiprobk.com/";$().setsubMenuActive("minatbakat"),F();const v=O().params.id,m=_([]),h=_([]),y=_([{label:"No",field:"no",width:"50px",tdClass:"text-center",thClass:"text-center"},{label:"Nama Siswa",field:"nama",type:"String"},{label:"Kelas",field:"kelas_nama",type:"String"},{label:"Minat Pekerjaan 1",field:"minat_pekerjaan_1",type:"String"}]);(async()=>{try{const t=await A.get(`owner/datasekolah/${v}}/datasiswa/withsertifikat`);return m.value=t.data,console.log(m.value),m.value.forEach((a,c)=>{let o={};a.sertifikat_data&&n.value.forEach(l=>{o[l.id]=a.sertifikat_data[l.id]}),h.value.push(g(b({},a),{nama:a.nama,id:a.id,kelas:a.kelas_nama})),n.value.forEach(l=>{h.value[c][l.id]=o[l.id]})}),t.data}catch(t){console.error(t)}})();const B=_([]),w=_({label:"Semua Kelas",id:"Semua Kelas"});let P=_([{label:"Semua Kelas",id:"Semua Kelas"},{label:"Belum masuk Kelas",id:"Belum masuk Kelas"}]);(async()=>{try{const t=await A.get(`owner/datasekolah/${v}/kelas`);return B.value=t.data,B.value.forEach(a=>{P.value.push({label:a.nama,id:a.id})}),t}catch(t){J.danger("Warning","Data Gagal dimuat"),console.error(t)}})();const E=()=>{if(w.value.id==="Semua Kelas")m.value.forEach((t,a)=>{let c={};t.sertifikat_data&&n.value.forEach(o=>{c[o.id]=t.sertifikat_data[o.id]}),h.value.push(g(b({},t),{nama:t.nama,id:t.id,kelas:t.kelas_nama})),n.value.forEach(o=>{h.value[a][o.id]=c[o.id]})});else if(w.value.id==="Belum masuk Kelas"){let t=m.value.filter(a=>a.kelas===null);t.length>0?t.forEach((a,c)=>{let o={};a.sertifikat_data&&n.value.forEach(l=>{o[l.id]=a.sertifikat_data[l.id]}),h.value.push(g(b({},a),{nama:a.nama,id:a.id,kelas:`${a.kelas?a.kelas.nama:""}`})),n.value.forEach(l=>{h.value[c][l.id]=o[l.id]})}):h.value=[]}else{let t=m.value.filter(a=>a.kelas_id==w.value.id);t.length>0?(h.value=[],t.forEach((a,c)=>{let o={};a.sertifikat_data&&n.value.forEach(l=>{o[l.id]=a.sertifikat_data[l.id]}),h.value.push(g(b({},a),{nama:a.nama,id:a.id,kelas:`${a.kelas?a.kelas.nama:""}`})),n.value.forEach(l=>{h.value[c][l.id]=o[l.id]})})):h.value=[]}},n=_([{label:"Minat Pekerjaan 1",id:"minat_pekerjaan_1",checked:!0},{label:"Minat Pekerjaan 2",id:"minat_pekerjaan_2",checked:!1},{label:"Minat Pekerjaan 3",id:"minat_pekerjaan_3",checked:!1},{label:"Cita Cita 1",id:"mnt_cita2_1",checked:!1},{label:"Cita Cita 2",id:"mnt_cita2_2",checked:!1},{label:"Cita Cita 3",id:"mnt_cita2_3",checked:!1},{label:"Hobi",id:"hobi",checked:!1},{label:"Pekerjaan Bapak",id:"pekerjaanbapak",checked:!1},{label:"Pekerjaan Ibu",id:"pekerjaanibu",checked:!1},{label:"Pekerjaan Kakek",id:"pekerjaankakek",checked:!1},{label:"Analisa Pekerjaan",id:"analisapekerjaan",checked:!1}]),L=t=>{n.value[t].checked=!n.value[t].checked,n.value[t].checked?y.value.push({label:n.value[t].label,field:n.value[t].id,type:n.value[t].type?n.value[t].type:"String"}):y.value.forEach((a,c)=>{a.field===n.value[t].id&&y.value.splice(c,1)})},j=_("kb_persen");return U(n.value,(t,a)=>{j.value=[],n.value.forEach((c,o)=>{c.checked&&j.value.push(c.id)})}),(t,a)=>{const c=M("v-select"),o=M("router-link"),l=M("vue-good-table");return i(),d(S,null,[X,e("div",Y,[e("div",Z,[f(c,{class:G(["py-2 px-3 w-72 mx-auto md:mx-0",{disabled:!1}]),options:p(P),modelValue:w.value,"onUpdate:modelValue":a[0]||(a[0]=s=>w.value=s)},null,8,["options","modelValue"]),e("div",I,[e("button",{class:"btn btn-sm btn-info p-2",onClick:a[1]||(a[1]=s=>E())}," Cari ")]),e("a",{href:p(r)+"api/admin/proses/export/datasiswa/"+p(v)+"/get?listdata="+j.value,target:"_blank"},te,8,ee)])]),e("div",se,[e("div",oe,[e("div",ne,[le,ie,e("div",de,[e("div",ce,[(i(!0),d(S,null,W(n.value,(s,V)=>(i(),d("div",null,[e("div",re,[e("label",{class:"cursor-pointer label",onClick:Ze=>L(V)},[e("span",ue,C(s.label),1),e("input",{type:"checkbox",checked:s.checked,class:"checkbox checkbox-secondary"},null,8,ke)],8,he)])]))),256))])])])])]),e("div",_e,[e("div",ve,[e("div",pe,[h.value?(i(),d("div",me,[f(l,{columns:y.value,rows:h.value,"search-options":{enabled:!0},"pagination-options":{enabled:!0,perPageDropdown:[10,20,50]},styleClass:"vgt-table striped bordered condensed",class:"py-0"},{"table-row":x(s=>[s.column.field=="deteksi"?(i(),d("span",fe,[e("div",we,[s.row.siswadetail.length>0?(i(),d("div",be,[f(o,{to:{name:"AdminSekolah",params:{id:p(v),id2:s.row.id}}},{default:x(()=>[ge]),_:2},1032,["to"])])):(i(),d("button",xe,je))])])):s.column.field=="deteksipenanganan"?(i(),d("span",Me,[e("div",Ce,[s.row.siswadetail.length>0?(i(),d("div",Be,[f(o,{to:{name:"AdminSekolah",params:{id:p(v),id2:s.row.id}}},{default:x(()=>[Pe]),_:2},1032,["to"])])):(i(),d("button",Ke,Se))])])):s.column.field=="sertifikat"?(i(),d("span",Ae,[e("div",Ee,[s.row.siswadetail.length>0?(i(),d("div",Le,[f(o,{to:{name:"AdminSekolah",params:{id:p(v),id2:s.row.id}}},{default:x(()=>[Ve]),_:2},1032,["to"])])):(i(),d("button",Re,ze))])])):s.column.field=="terapis"?(i(),d("span",Ne,[e("div",Te,[s.row.siswadetail.length>0?(i(),d("div",$e,[f(o,{to:{name:"AdminSekolah",params:{id:p(v),id2:s.row.id}}},{default:x(()=>[Fe]),_:2},1032,["to"])])):(i(),d("button",Oe,Ge))])])):s.column.field=="no"?(i(),d("span",We,[e("div",qe,C(s.index+1),1)])):(i(),d("span",Je,C(s.formattedRow[s.column.field]),1))]),_:1},8,["columns","rows"])])):q("",!0)])])])],64)}}};export{aa as default};
