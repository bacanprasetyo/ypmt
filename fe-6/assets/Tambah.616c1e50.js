import{u as V,d as A,a as C,b as P,c as T,r as i,o as x,e as f,f as e,g as c,w,h,F as L,A as k,T as n,P as v,Z as R,t as d,Q as y,p as B,i as u}from"./index.156f8da1.js";import{B as K}from"./BreadCrumb.47384a78.js";import{B as M}from"./BreadCrumbSpace.c287fb01.js";import{F as N,a as q}from"./vee-validate.esm.8976f289.js";const W={class:"pt-4 px-10 md:flex justify-between"},z=e("div",null,[e("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm"}," Klasifikasi Akademis & Profesi ")],-1),E={class:"md:py-0 py-4"},G=u(" Klasifikasi "),I=u(" Edit "),J={class:"pt-4 px-10 md:flex justify-between"},$=e("div",null,[e("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-gray-700 shadow-sm"})],-1),O={class:"md:py-0 py-4 space-x-2 space-y-2"},Q=e("button",{class:"btn hover:shadow-lg shadow text-white hover:text-gray-100 gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})]),u(" Kembali ")],-1),Z=[Q],H={class:"px-4 py-4"},X={class:"w-full"},Y={class:"bg-white shadow rounded-lg px-0 py-4"},ee={class:"w-full lg:w-fi mx-4"},te={class:"p-2 sm:p-6 xl:p-8"},se={class:"pt-0 px-0"},ae={class:"w-full mx-0"},le={class:"bg-white rounded-lg p-0 sm:p-6 xl:p-0"},oe={class:"grid md:grid-cols-2 gap-2"},ne={class:"grid col-span-2"},ie=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Judul",-1),de={class:"text-xs text-red-600 mt-1"},re=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Jenis",-1),ce=e("option",{disabled:"",selected:""},"Pilih ?",-1),ue=e("option",null,"Studi",-1),me=e("option",null,"Kerja",-1),pe=[ce,ue,me],_e={class:"text-xs text-red-600 mt-1"},xe=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Tipe",-1),fe=e("option",{disabled:"",selected:""},"Pilih ?",-1),he=e("option",null,"Link",-1),ve=e("option",null,"Upload",-1),be=[fe,he,ve],ge={class:"text-xs text-red-600 mt-1"},we={key:0},ke=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Link",-1),ye={class:"text-xs text-red-600 mt-1"},Be={key:1},je=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"File",-1),Se=e("p",{class:"text-sm font-bold"},[u(" Pilih file : "),e("code",{class:"text-red-400"},".doc/docx/pdf - max 5 MB")],-1),Fe={class:"text-xs text-red-600 mt-1"},Ue=e("div",{class:"w-full flex justify-end mt-4 px-20"},[e("button",{class:"btn btn-active btn-lg btn-primary"}," Simpan ")],-1),Re={__name:"Tambah",setup(De){const b=V();A(()=>b.getSekolah),b.$subscribe((l,s)=>{}),C().setPagesActive("referensi");const m=P();T().params.id,i([]);const t=i([]);i([]);const p=l=>l?l.length<1?"This Field must be at least 2 characters":!0:"This field is required",j=()=>{t.value.tipe=="Upload"?U(_.value)&&D(_.value):S()},S=async l=>{let s={nama:t.value.nama,tipe:t.value.tipe,link:t.value.link,file:t.value.file,jenis:t.value.jenis};try{const o=await k.post("owner/referensi",s);return n.success("Success","Data Berhasil ditambahkan!"),m.push({name:"AdminReferensi"}),o.data}catch(o){n.danger("Warning","Data gagal ditambahkan!"),console.error(o)}},_=i(null),g=i(null),F=l=>{let s=l.target.files[0];_.value=s,g.value=URL.createObjectURL(s),console.log(s,g.value)},U=l=>l?l.size>5048576?(n.danger("Warning","File harus kurang dari 5mb!"),!1):!0:(n.danger("Info","Pilih File terlebih dahulu!"),!1),D=async(l,s)=>{let o="owner/referensi",a=new FormData;a.append("nama",t.value.nama),a.append("tipe",t.value.tipe),a.append("link",t.value.link),a.append("jenis",t.value.jenis),a.append("file",l);try{const r=await k.post(o,a,{headers:{"Content-Type":"multipart/form-data"}});return n.success("Success","Data Berhasil update!"),console.log(r),m.push({name:"AdminReferensi"}),r.data}catch(r){n.danger("Warning","Data gagal ditambahkan!"),console.error(r)}};return(l,s)=>(x(),f(L,null,[e("div",W,[z,e("div",E,[c(K,null,{content:w(()=>[G,c(M),I]),_:1})])]),e("div",J,[$,e("div",O,[e("span",{onClick:s[0]||(s[0]=o=>h(m).go(-1))},Z)])]),e("div",H,[e("div",X,[e("div",Y,[e("div",ee,[e("div",te,[c(h(N),{onSubmit:j},{default:w(({errors:o})=>[e("div",se,[e("div",ae,[e("div",le,[e("div",oe,[e("div",ne,[ie,v(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=a=>t.value.nama=a),rules:p,name:"nama",ref:"nama",class:"textarea textarea-bordered md:w-full max-w-2xl",placeholder:""},null,512),[[R,t.value.nama]]),e("div",de,d(o.nama),1)]),e("div",null,[re,v(e("select",{class:"select select-bordered w-full max-w-xs","onUpdate:modelValue":s[2]||(s[2]=a=>t.value.jenis=a),rules:p},pe,512),[[y,t.value.jenis]]),e("div",_e,d(o.jenis),1)]),e("div",null,[xe,v(e("select",{class:"select select-bordered w-full max-w-xs","onUpdate:modelValue":s[3]||(s[3]=a=>t.value.tipe=a),rules:p},be,512),[[y,t.value.tipe]]),e("div",ge,d(o.tipe),1)]),t.value.tipe=="Link"?(x(),f("div",we,[ke,c(h(q),{modelValue:t.value.link,"onUpdate:modelValue":s[4]||(s[4]=a=>t.value.link=a),type:"text",name:"link",ref:"link",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue"]),e("div",ye,d(o.link),1)])):B("",!0),t.value.tipe=="Upload"?(x(),f("div",Be,[je,Se,e("input",{type:"file",name:"fileUpload",onChange:s[5]||(s[5]=a=>F(a)),class:"input md:w-full max-w-2xl",required:""},null,32),e("div",Fe,d(o.file),1)])):B("",!0)]),Ue])])])]),_:1})])])])])])],64))}};export{Re as default};
