import{u as me,a as _e,m as ve,l as he,b as be,c as fe,d as P,r as u,e as ke,o as n,f as i,g as e,h as f,w as E,B as xe,i as G,j as p,F as y,t as c,k as T,v as q,n as U,p as O,q as I,s as W,x as R,_ as D,A as k,T as m}from"./index.8c2c018c.js";var H="/assets/github-copilot.83d78167.svg";const ge={class:"pt-4 px-10 md:flex justify-between"},ye=e("div",null,[e("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm"},"Profile")],-1),we={class:"md:py-0 py-4"},Se=R(" Profile "),Pe=R(" Index "),Ue=e("div",{class:"px-4 pt-10"},[e("h3",{class:"font-bold"},"UPDATE DATA SEKOLAH")],-1),De={class:"px-4 py-0"},Ae={class:"w-full"},Ke={class:"bg-base-100 shadow-lg rounded-lg px-0 py-0"},Le={class:"w-full lg:w-fi mx-0"},Ve={class:"p-2 sm:p-6 xl:p-8"},Ce={class:"pt-0 px-0"},je={class:"w-full mx-0"},Fe={class:"rounded-lg p-0 sm:p-6 xl:p-0"},Be={class:"grid md:grid-cols-2 gap-2"},Ee=e("label",{for:"name",class:"text-sm font-medium text-base-content block mb-2"},"Nama",-1),Te={class:"text-xs text-red-600 mt-1"},qe=e("label",{for:"name",class:"text-sm font-medium text-base-content block mb-2"},"Alamat",-1),Oe={class:"text-xs text-red-600 mt-1"},Re=e("div",null,[e("label",{for:"name",class:"text-sm font-medium text-base-content block mb-2"},"Status"),e("select",{class:"select select-bordered w-full",disabled:""},[e("option",null,"Aktif"),e("option",null,"Nonaktif")])],-1),$e=e("label",{for:"name",class:"text-sm font-medium text-base-content block mb-2"},"Nama Kepala Sekolah",-1),Ne={class:"text-xs text-red-600 mt-1"},ze=e("label",{for:"name",class:"text-sm font-medium text-base-content block mb-2"},"Provinsi",-1),Ge={selected:""},Ie=["value"],We={class:"text-xs text-red-600 mt-1"},He=e("label",{for:"name",class:"text-sm font-medium text-base-content block mb-2"},"Kabupaten",-1),Me={selected:""},Je=["value"],Qe={class:"text-xs text-red-600 mt-1"},Xe=e("label",{for:"name",class:"text-sm font-medium text-base-content block mb-2"},"Kecamatan",-1),Ye={selected:""},Ze=["value"],ea={class:"text-xs text-red-600 mt-1"},aa=e("div",{class:"w-full flex justify-end mt-4 px-20"},[e("button",{class:"btn btn-lg btn-primary"},"Simpan")],-1),ta=e("div",{class:"px-4 py-10"},[e("h3",{class:"font-bold"},"UPDATE PASSWORD")],-1),sa={class:"px-4 py-0 shadow-lg"},oa={class:"w-full"},la={class:"bg-base-100 shadow rounded-lg px-0 py-0"},na={class:"w-full lg:w-fi mx-0"},ia={class:"p-2 sm:p-6 xl:p-8"},da={class:"pt-0 px-0"},ra={class:"w-full mx-0"},ca={class:"rounded-lg p-0 sm:p-6 xl:p-0"},ua={class:"grid md:grid-cols-2 gap-2"},pa=e("label",{for:"password",class:"text-sm font-medium text-base-content block mb-2"},"Password",-1),ma={class:"text-xs text-red-600 mt-1"},_a=e("label",{for:"password2",class:"text-sm font-medium text-base-content block mb-2"},"Konfirmasi Password",-1),va={class:"text-xs text-red-600 mt-1"},ha={class:"w-full flex justify-end mt-4 px-20 gap-4"},ba=e("div",{class:"collapse collapse-arrow shadow-sm border border-spacing-1"},[e("input",{type:"checkbox"}),e("div",{class:"collapse-title text-md font-bold"}," Catatan : "),e("div",{class:"collapse-content text-sm"},[e("p",null,"# Minimal 3 Karakter")])],-1),fa={key:0,class:"btn btn-lg btn-primary"},ka=e("div",{class:"px-4 py-4"},[e("h3",{class:"font-bold"},"UPDATE PHOTO")],-1),xa={class:"w-full flex justify-center flex-wrap"},ga={class:"xl:flex felx-wrap gap-10 xl:w-full px-4 justify-center space-y-4"},ya={class:"card xl:w-2/5 bg-base-100 shadow-xl"},wa={class:"w-full flex justify-center"},Sa={class:"avatar hover:scale-110 transition-all duration-500",for:"my-modal-1"},Pa={class:"w-52 mask mask-squircle"},Ua=["src"],Da={key:1,src:H},Aa=e("input",{type:"checkbox",id:"my-modal-1",class:"modal-toggle"},null,-1),Ka={for:"my-modal-1",class:"modal cursor-pointer"},La={class:"modal-box relative",for:""},Va=["src"],Ca={key:1,src:H},ja={class:"card-body items-center text-center"},Fa={class:"card-title"},Ba=e("p",null,"SEKOLAH",-1),Ea=e("div",{class:"card-actions"},null,-1),Ta={class:"px-10 pt-2"},qa=e("p",{class:"text-sm font-bold"},"Pilih Logo Sekolah :",-1),Oa={class:"flex justify-end px-10 pb-4"},Ra={class:"card xl:w-2/5 bg-base-100 shadow-xl"},$a={class:"w-full flex justify-center"},Na={class:"avatar hover:scale-110 transition-all duration-500",for:"my-modal-2"},za={class:"w-52 mask mask-squircle"},Ga=["src"],Ia={key:1,src:D},Wa=e("input",{type:"checkbox",id:"my-modal-2",class:"modal-toggle"},null,-1),Ha={for:"my-modal-2",class:"modal cursor-pointer"},Ma={class:"modal-box relative",for:""},Ja=["src"],Qa={key:1,src:D},Xa={class:"card-body items-center text-center"},Ya={class:"card-title"},Za=e("p",null,"KEPALA SEKOLAH",-1),et=e("div",{class:"card-actions"},null,-1),at={class:"px-10 pt-2"},tt=e("p",{class:"text-sm font-bold"},"Pilih Photo Kepala Sekolah :",-1),st={class:"flex justify-end px-10 pb-4"},ot={class:"card xl:w-2/5 bg-base-100 shadow-xl"},lt={class:"w-full flex justify-center"},nt={class:"avatar hover:scale-110 transition-all duration-500",for:"my-modal-3"},it={class:"w-52 mask mask-squircle"},dt=["src"],rt={key:1,src:D},ct=e("input",{type:"checkbox",id:"my-modal-3",class:"modal-toggle"},null,-1),ut={for:"my-modal-3",class:"modal cursor-pointer"},pt={class:"modal-box relative",for:""},mt=["src"],_t={key:1,src:D},vt={class:"card-body items-center text-center"},ht={class:"card-title"},bt=e("p",null,"USER",-1),ft=e("div",{class:"card-actions"},null,-1),kt={class:"px-10 pt-2"},xt=e("p",{class:"text-sm font-bold"},"Pilih Photo User :",-1),gt={class:"flex justify-end px-10 pb-4"},yt=e("div",{class:"collapse collapse-arrow shadow-sm border border-spacing-1"},[e("input",{type:"checkbox"}),e("div",{class:"collapse-title text-md font-bold"},"Catatan Upload PHOTO:"),e("div",{class:"collapse-content text-sm"},[e("p",null,"# Extensi : .jpg / .png"),e("p",null,[R("# Max Size : 1 MB"),e("br")])])],-1),Dt={name:"MyProfile",setup(wt){me(),_e(),ve.updateLocale("id",he);const g=be();fe().setPagesActive("profile"),P(()=>g.getPaket),P(()=>g.getStats);const M=P(()=>g.getIdentitas),r=P(()=>g.getSekolah),$=u([]),d=u({nama:r.value.nama,alamat:r.value.alamat,status:r.value.status?r.value.status:"Aktif",kepsek_nama:r.value.kepsek_nama,tahunajaran_nama:r.value.tahunajaran_nama,semester_nama:r.value.semester_nama,kecamatan:r.value.kecamatan,kabupaten:r.value.kabupaten,provinsi:r.value.provinsi}),x=u({kecamatan:r.value.kecamatan,kabupaten:r.value.kabupaten,provinsi:r.value.provinsi}),A=t=>t?t.length<1?"This Field must be at least 2 characters":!0:"This field is required";g.$subscribe((t,a)=>{});const J=()=>{Q()},Q=async t=>{let a={nama:d.value.nama,alamat:d.value.alamat,status:d.value.status?d.value.status:"Aktif",kepsek_nama:d.value.kepsek_nama,tahunajaran_nama:d.value.tahunajaran_nama,semester_nama:d.value.semester_nama,kecamatan:d.value.kecamatan,kabupaten:d.value.kabupaten,provinsi:d.value.provinsi};try{const o=await k.post("gurubk/myprofile/update",a);return m.success("Success","Data Berhasil update!"),o.data}catch(o){m.danger("Warning","Data gagal ditambahkan!"),console.error(o)}},K=u(!1),X=()=>{m.warning("Info","Gagal! Password tidak sama!")},_=u({password:"",password_confirmation:""}),N=()=>{_.value.password!=""&&(_.value.password!=_.value.password_confirmation?K.value=!1:K.value=!0)},z=t=>t?t.length<3?"This Field must be at least 2 characters":!0:"This field is required",Y=()=>{Z()},Z=async t=>{let a={password:_.value.password};try{const o=await k.post("gurubk/myprofile/updatepassword",a);return m.success("Success","Data Berhasil update!"),o.data}catch(o){m.danger("Warning","Data gagal ditambahkan!"),console.error(o)}},L=u([]),w=u([]),S=u([]),ee=async()=>{try{const t=await k.get("https://dev.farizdotid.com/api/daerahindonesia/provinsi");return t.provinsi.forEach(a=>{let o={code:a.id,label:a.nama};L.value.push(o)}),t.provinsi}catch(t){console.error(t)}},ae=t=>{let a="";return L.value.forEach(o=>{o.code==t&&(a=o.label)}),a},te=t=>{let a="";return w.value.forEach(o=>{o.code==t&&(a=o.label)}),a},se=t=>{let a="";return S.value.forEach(o=>{o.code==t&&(a=o.label)}),a},oe=async t=>{d.value.provinsi=ae(t.target.value);let a=t.target.value;try{const o=await k.get(`https://dev.farizdotid.com/api/daerahindonesia/kota?id_provinsi=${a}`);return w.value=[{code:"0",label:"-"}],o.kota_kabupaten.forEach(l=>{let s={code:l.id,label:l.nama};w.value.push(s)}),o}catch(o){console.error(o)}},le=async t=>{d.value.kabupaten=te(t.target.value);let a=t.target.value;try{const o=await k.get(`https://dev.farizdotid.com/api/daerahindonesia/kecamatan?id_kota=${a}`);return S.value=[{code:"0",label:"-"}],o.kecamatan.forEach(l=>{let s={code:l.id,label:l.nama};S.value.push(s)}),o}catch(o){console.error(o)}},ne=async t=>{d.value.kecamatan=se(t.target.value)};ee();const V=t=>t?t.size>1048576?(m.danger("Warning","File harus kurang dari 1mb!"),!1):t.type!="image/jpeg"&&t.type!="image/png"?(m.danger("Warning","File harus jpg/png!"),!1):!0:(m.danger("Info","Pilih File terlebih dahulu!"),!1),C=async(t,a)=>{let o="";a=="logosekolah"?o="gurubk/myprofile/upload/logosekolah":a=="kepalasekolah"?o="gurubk/myprofile/upload/kepalasekolah":o="gurubk/myprofile/upload/gurubk";let l=new FormData;l.append("file",t);try{const s=await k.post(o,l,{headers:{"Content-Type":"multipart/form-data"}});return m.success("Success","Data Berhasil update!"),console.log(s),s.data}catch(s){m.danger("Warning","Data gagal ditambahkan!"),console.error(s)}},v=u(null),j=u(null),ie=()=>{V(j.value)&&C(j.value,"logosekolah")},de=t=>{let a=t.target.files[0];j.value=a,v.value=URL.createObjectURL(a),console.log(a,v.value)},h=u(null),F=u(null),re=()=>{V(F.value)&&C(F.value,"kepalasekolah")},ce=t=>{let a=t.target.files[0];F.value=a,h.value=URL.createObjectURL(a),console.log(a,h.value)},b=u(null),B=u(null),ue=()=>{V(B.value)&&C(B.value,"gurubk")},pe=t=>{let a=t.target.files[0];B.value=a,b.value=URL.createObjectURL(a),console.log(a,b.value)};return(async()=>{try{const t=await k.get("gurubk/myprofile/upload/getphoto");return v.value=t.data.logosekolah,h.value=t.data.kepalasekolah,b.value=t.data.user,t.data}catch(t){console.error(t)}})(),(t,a)=>{const o=ke("BreadCrumbSpace");return n(),i(U,null,[e("div",ge,[ye,e("div",we,[f(xe,null,{content:E(()=>[Se,f(o),Pe]),_:1})])]),Ue,e("div",De,[e("div",Ae,[e("div",Ke,[e("div",Le,[e("div",Ve,[$.value?(n(),G(p(I),{key:0,onSubmit:J},{default:E(({errors:l})=>[e("div",Ce,[e("div",je,[e("div",Fe,[e("div",Be,[e("div",null,[Ee,f(p(y),{modelValue:d.value.nama,"onUpdate:modelValue":a[0]||(a[0]=s=>d.value.nama=s),rules:A,type:"text",name:"nama",ref:"nama",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue"]),e("div",Te,c(l.nama),1)]),e("div",null,[qe,f(p(y),{modelValue:d.value.alamat,"onUpdate:modelValue":a[1]||(a[1]=s=>d.value.alamat=s),rules:A,type:"text",name:"alamat",ref:"alamat",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue"]),e("div",Oe,c(l.alamat),1)]),Re,e("div",null,[$e,f(p(y),{modelValue:d.value.kepsek_nama,"onUpdate:modelValue":a[2]||(a[2]=s=>d.value.kepsek_nama=s),rules:A,type:"text",name:"kepsek_nama",ref:"kepsek_nama",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue"]),e("div",Ne,c(l.kepsek_nama),1)]),e("div",null,[ze,T(e("select",{class:"select select-bordered w-full","onUpdate:modelValue":a[3]||(a[3]=s=>x.value.provinsi=s),onChange:a[4]||(a[4]=s=>oe(s))},[e("option",Ge,c(p(r).provinsi),1),(n(!0),i(U,null,O(L.value,s=>(n(),i("option",{key:s.code,value:s.code},c(s.label),9,Ie))),128))],544),[[q,x.value.provinsi]]),e("div",We,c(l.provinsi),1)]),e("div",null,[He,T(e("select",{class:"select select-bordered w-full","onUpdate:modelValue":a[5]||(a[5]=s=>x.value.kabupaten=s),onChange:a[6]||(a[6]=s=>le(s))},[e("option",Me,c(p(r).kabupaten),1),(n(!0),i(U,null,O(w.value,s=>(n(),i("option",{key:s.code,value:s.code},c(s.label),9,Je))),128))],544),[[q,x.value.kabupaten]]),e("div",Qe,c(l.kabupaten),1)]),e("div",null,[Xe,T(e("select",{class:"select select-bordered w-full","onUpdate:modelValue":a[7]||(a[7]=s=>x.value.kecamatan=s),onChange:a[8]||(a[8]=s=>ne(s))},[e("option",Ye,c(p(r).kecamatan),1),(n(!0),i(U,null,O(S.value,s=>(n(),i("option",{key:s.code,value:s.code},c(s.label),9,Ze))),128))],544),[[q,x.value.kecamatan]]),e("div",ea,c(l.kecamatan),1)])]),aa])])])]),_:1})):W("",!0)])])])])]),ta,e("div",sa,[e("div",oa,[e("div",la,[e("div",na,[e("div",ia,[$.value?(n(),G(p(I),{key:0,onSubmit:Y},{default:E(({errors:l})=>[e("div",da,[e("div",ra,[e("div",ca,[e("div",ua,[e("div",null,[pa,f(p(y),{modelValue:_.value.password,"onUpdate:modelValue":a[9]||(a[9]=s=>_.value.password=s),rules:z,type:"password",name:"password",ref:"password",class:"input input-bordered md:w-full max-w-2xl",onKeyup:a[10]||(a[10]=s=>N()),required:""},null,8,["modelValue"]),e("div",ma,c(l.password),1)]),e("div",null,[_a,f(p(y),{modelValue:_.value.password_confirmation,"onUpdate:modelValue":a[11]||(a[11]=s=>_.value.password_confirmation=s),rules:z,type:"password",name:"password_confirmation",ref:"password_confirmation",onKeyup:a[12]||(a[12]=s=>N()),class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue"]),e("div",va,c(l.password_confirmation),1)])]),e("div",ha,[ba,K.value?(n(),i("button",fa," Simpan ")):(n(),i("span",{key:1,class:"btn btn-lg btn-dark",onClick:a[13]||(a[13]=s=>X())}," Simpan "))])])])])]),_:1})):W("",!0)])])])])]),ka,e("div",xa,[e("div",ga,[e("div",ya,[e("div",wa,[e("label",Sa,[e("div",Pa,[v.value?(n(),i("img",{key:0,src:v.value},null,8,Ua)):(n(),i("img",Da))])])]),Aa,e("label",Ka,[e("label",La,[v.value?(n(),i("img",{key:0,src:v.value},null,8,Va)):(n(),i("img",Ca))])]),e("div",ja,[e("h2",Fa,c(p(r).nama),1),Ba,Ea]),e("div",Ta,[qa,e("input",{type:"file",name:"photoLogoSekolah",onChange:a[14]||(a[14]=l=>de(l)),class:"input md:w-full max-w-2xl",required:""},null,32)]),e("div",Oa,[e("button",{class:"btn btn-lg btn-primary",onClick:a[15]||(a[15]=l=>ie())}," UPLOAD ")])]),e("div",Ra,[e("div",$a,[e("label",Na,[e("div",za,[h.value?(n(),i("img",{key:0,src:h.value},null,8,Ga)):(n(),i("img",Ia))])]),Wa,e("label",Ha,[e("label",Ma,[h.value?(n(),i("img",{key:0,src:h.value},null,8,Ja)):(n(),i("img",Qa))])])]),e("div",Xa,[e("h2",Ya,c(p(r).kepsek_nama),1),Za,et]),e("div",at,[tt,e("input",{type:"file",name:"photoKepalaSekolah",onChange:a[16]||(a[16]=l=>ce(l)),class:"input md:w-full max-w-2xl",required:""},null,32)]),e("div",st,[e("button",{class:"btn btn-lg btn-primary",onClick:a[17]||(a[17]=l=>re())}," UPLOAD ")])]),e("div",ot,[e("div",lt,[e("label",nt,[e("div",it,[b.value?(n(),i("img",{key:0,src:b.value},null,8,dt)):(n(),i("img",rt))])])]),ct,e("label",ut,[e("label",pt,[b.value?(n(),i("img",{key:0,src:b.value},null,8,mt)):(n(),i("img",_t))])]),e("div",vt,[e("h2",ht,c(p(M).nama),1),bt,ft]),e("div",kt,[xt,e("input",{type:"file",name:"photoUser",onChange:a[18]||(a[18]=l=>pe(l)),class:"input md:w-full max-w-2xl",required:""},null,32)]),e("div",gt,[e("button",{class:"btn btn-lg btn-primary",onClick:a[19]||(a[19]=l=>ue())}," UPLOAD ")])])])]),yt],64)}}};export{Dt as default};
