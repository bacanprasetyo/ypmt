import{u as S,d as x,b as C,c as A,a as K,r as c,e as M,o as _,f as j,g as a,h as n,w as p,i,k as F,j as T,F as U,S as h,T as f,n as q,t as d,m as E,X as I,p as k}from"./index.16f5963e.js";import{F as N,a as b}from"./vee-validate.esm.729dca79.js";import{m as $,l as z}from"./id.413d788c.js";import{B as L,a as P}from"./BreadCrumbSpace.87f53b83.js";const G={class:"pt-4 px-10 md:flex justify-between"},R=a("div",null,[a("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm"},"Edit")],-1),W={class:"md:py-0 py-4"},X=k(" Kasus "),H=k(" Edit "),J={class:"pt-4 px-10 md:flex justify-between"},O=a("div",null,null,-1),Q={class:"md:py-0 py-4"},Y=a("button",{class:"btn hover:shadow-lg shadow text-white hover:text-gray-100 gap-2"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})]),k(" Kembali ")],-1),Z=[Y],aa={class:"px-4 py-4"},ea={class:"w-full"},ta={class:"bg-white shadow rounded-lg px-0 py-4"},sa={class:"w-full lg:w-fi mx-4"},la={class:"p-2 sm:p-6 xl:p-8"},oa={class:"pt-0 px-0"},na={class:"w-full mx-0"},da={class:"bg-white rounded-lg p-0 sm:p-6 xl:p-0"},ua={class:"grid md:grid-cols-2 gap-2"},ia=a("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Tanggal",-1),ra={class:"text-xs text-red-600 mt-1"},ma=a("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Kasus",-1),ca={class:"text-xs text-red-600 mt-1"},pa=a("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Sumber kasus",-1),ba={class:"text-xs text-red-600 mt-1"},ka=a("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Penyebab timbul kasus",-1),va={class:"text-xs text-red-600 mt-1"},ga=a("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Keterangan",-1),xa={class:"text-xs text-red-600 mt-1"},_a=a("div",{class:"w-full flex justify-end mt-4 px-20"},[a("button",{class:"btn btn-active btn-lg btn-primary"}," Simpan ")],-1),Sa={__name:"CatatanKasusEdit",setup(ha){$.updateLocale("id",z);const r=S();x(()=>r.getSekolah),x(()=>r.getIdentitas),r.$subscribe((l,t)=>{});const v=C(),g=A(),m=g.params.id,y=g.params.id2;K().setPagesActive("kasus"),c([]);const w=c([]),e=c([]),V=()=>{B()},B=async l=>{let t={kasus:e.value.kasus,tanggal:e.value.tanggal,pengambilandata:e.value.pengambilandata,sumberkasus:e.value.sumberkasus,golkasus:e.value.golkasus,penyebabtimbulkasus:e.value.penyebabtimbulkasus,teknikkonseling:e.value.teknikkonseling,keberhasilanpenanganankasus:e.value.keberhasilanpenanganankasus,keterangan:e.value.keterangan};try{const u=await h.put(`ortu/data/catatan/kasus/data/${m}`,t);return f.success("Success","Data Berhasil ditambahkan!"),v.push({name:"AdminCatatanKasus",params:{id:m,id2:y}}),u.data}catch(u){f.danger("Warning","Data gagal ditambahkan!"),console.error(u)}};return(async()=>{try{const l=await h.get(`ortu/data/catatan/kasus/${m}`);return e.value=l.data,l.data}catch(l){console.error(l)}})(),(l,t)=>{const u=M("Datepicker");return _(),j(U,null,[a("div",G,[R,a("div",W,[n(L,null,{content:p(()=>[X,n(P),H]),_:1})])]),a("div",J,[O,a("div",Q,[a("span",{onClick:t[0]||(t[0]=o=>i(v).go(-1))},Z)])]),a("div",aa,[a("div",ea,[a("div",ta,[a("div",sa,[a("div",la,[w.value?(_(),F(i(N),{key:0,onSubmit:V},{default:p(({errors:o})=>[a("div",oa,[a("div",na,[a("div",da,[a("div",ua,[a("div",null,[ia,n(u,{modelValue:e.value.tanggal,"onUpdate:modelValue":t[1]||(t[1]=s=>e.value.tanggal=s),format:"yyyy/MM/dd","value-format":"yyyy-MM-dd",rules:l.validateData,required:""},{"calendar-header":p(({index:s,day:D})=>[a("div",{class:q(s===5||s===6?"red-color":"")},d(D),3)]),_:1},8,["modelValue","rules"]),a("div",ra,d(o.tanggal),1)]),a("div",null,[ma,n(i(b),{modelValue:e.value.kasus,"onUpdate:modelValue":t[2]||(t[2]=s=>e.value.kasus=s),rules:l.validateData,type:"text",name:"kasus",ref:"kasus",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue","rules"]),a("div",ca,d(o.kasus),1)]),a("div",null,[pa,n(i(b),{modelValue:e.value.sumberkasus,"onUpdate:modelValue":t[3]||(t[3]=s=>e.value.sumberkasus=s),rules:l.validateData,type:"text",name:"sumberkasus",ref:"sumberkasus",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue","rules"]),a("div",ba,d(o.sumberkasus),1)]),a("div",null,[ka,n(i(b),{modelValue:e.value.penyebabtimbulkasus,"onUpdate:modelValue":t[4]||(t[4]=s=>e.value.penyebabtimbulkasus=s),rules:l.validateData,type:"text",name:"penyebabtimbulkasus",ref:"penyebabtimbulkasus",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue","rules"]),a("div",va,d(o.penyebabtimbulkasus),1)]),a("div",null,[ga,E(a("textarea",{"onUpdate:modelValue":t[5]||(t[5]=s=>e.value.keterangan=s),class:"textarea textarea-accent md:w-full max-w-2xl",placeholder:""},null,512),[[I,e.value.keterangan]]),a("div",xa,d(o.keterangan),1)])]),_a])])])]),_:1})):T("",!0)])])])])])],64)}}};export{Sa as default};
