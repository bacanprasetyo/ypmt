import{u as S,d as x,b as C,c as M,a as T,r as m,e as A,o as g,f as K,g as e,h as o,w as c,i,k as j,j as F,F as U,S as q,T as _,n as N,t as u,m as Y,X as z,p as b}from"./index.16f5963e.js";import{F as I,a as p}from"./vee-validate.esm.729dca79.js";import{m as h,l as L}from"./id.413d788c.js";import{B as P,a as G}from"./BreadCrumbSpace.87f53b83.js";const R={class:"pt-4 px-10 md:flex justify-between"},$=e("div",null,[e("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm"},"Tambah")],-1),E={class:"md:py-0 py-4"},W=b(" Kasus "),X=b(" Index "),H={class:"pt-4 px-10 md:flex justify-between"},J=e("div",null,null,-1),O={class:"md:py-0 py-4"},Q=e("button",{class:"btn hover:shadow-lg shadow text-white hover:text-gray-100 gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})]),b(" Kembali ")],-1),Z=[Q],ee={class:"px-4 py-4"},ae={class:"w-full"},se={class:"bg-white shadow rounded-lg px-0 py-4"},te={class:"w-full lg:w-fi mx-4"},le={class:"p-2 sm:p-6 xl:p-8"},ne={class:"pt-0 px-0"},oe={class:"w-full mx-0"},ue={class:"bg-white rounded-lg p-0 sm:p-6 xl:p-0"},de={class:"grid md:grid-cols-2 gap-2"},ie=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Tanggal",-1),re={class:"text-xs text-red-600 mt-1"},me=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Kasus",-1),ce={class:"text-xs text-red-600 mt-1"},pe=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Sumber kasus",-1),be={class:"text-xs text-red-600 mt-1"},ke=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Penyebab timbul kasus",-1),ve={class:"text-xs text-red-600 mt-1"},xe=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Keterangan",-1),ge={class:"text-xs text-red-600 mt-1"},_e=e("div",{class:"w-full flex justify-end mt-4 px-20"},[e("button",{class:"btn btn-active btn-lg btn-primary"}," Simpan ")],-1),De={__name:"CatatanKasusTambah",setup(he){h.updateLocale("id",L);const r=S();x(()=>r.getSekolah),x(()=>r.getIdentitas),r.$subscribe((l,s)=>{});const k=C(),v=M(),f=v.params.id,y=v.params.id2;T().setPagesActive("kasus"),m([]);const w=m([]),a=m([]);a.value.tanggal=h().format("YYYY-MM-DD");const V=()=>{B()},B=async l=>{let s={kasus:a.value.kasus,tanggal:a.value.tanggal,pengambilandata:a.value.pengambilandata,sumberkasus:a.value.sumberkasus,golkasus:a.value.golkasus,penyebabtimbulkasus:a.value.penyebabtimbulkasus,teknikkonseling:a.value.teknikkonseling,keberhasilanpenanganankasus:a.value.keberhasilanpenanganankasus,keterangan:a.value.keterangan};try{const d=await q.post("ortu/data/catatan/kasus",s);return _.success("Success","Data Berhasil ditambahkan!"),k.push({name:"AdminCatatanKasus",params:{id:f,id2:y}}),d.data}catch(d){_.danger("Warning","Data gagal ditambahkan!"),console.error(d)}};return(l,s)=>{const d=A("Datepicker");return g(),K(U,null,[e("div",R,[$,e("div",E,[o(P,null,{content:c(()=>[W,o(G),X]),_:1})])]),e("div",H,[J,e("div",O,[e("span",{onClick:s[0]||(s[0]=n=>i(k).go(-1))},Z)])]),e("div",ee,[e("div",ae,[e("div",se,[e("div",te,[e("div",le,[w.value?(g(),j(i(I),{key:0,onSubmit:V},{default:c(({errors:n})=>[e("div",ne,[e("div",oe,[e("div",ue,[e("div",de,[e("div",null,[ie,o(d,{modelValue:a.value.tanggal,"onUpdate:modelValue":s[1]||(s[1]=t=>a.value.tanggal=t),format:"yyyy/MM/dd","value-format":"yyyy-MM-dd",rules:l.validateData,required:""},{"calendar-header":c(({index:t,day:D})=>[e("div",{class:N(t===5||t===6?"red-color":"")},u(D),3)]),_:1},8,["modelValue","rules"]),e("div",re,u(n.tanggal),1)]),e("div",null,[me,o(i(p),{modelValue:a.value.kasus,"onUpdate:modelValue":s[2]||(s[2]=t=>a.value.kasus=t),rules:l.validateData,type:"text",name:"kasus",ref:"kasus",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue","rules"]),e("div",ce,u(n.kasus),1)]),e("div",null,[pe,o(i(p),{modelValue:a.value.sumberkasus,"onUpdate:modelValue":s[3]||(s[3]=t=>a.value.sumberkasus=t),rules:l.validateData,type:"text",name:"sumberkasus",ref:"sumberkasus",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue","rules"]),e("div",be,u(n.sumberkasus),1)]),e("div",null,[ke,o(i(p),{modelValue:a.value.penyebabtimbulkasus,"onUpdate:modelValue":s[4]||(s[4]=t=>a.value.penyebabtimbulkasus=t),rules:l.validateData,type:"text",name:"penyebabtimbulkasus",ref:"penyebabtimbulkasus",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue","rules"]),e("div",ve,u(n.penyebabtimbulkasus),1)]),e("div",null,[xe,Y(e("textarea",{"onUpdate:modelValue":s[5]||(s[5]=t=>a.value.keterangan=t),class:"textarea textarea-accent md:w-full max-w-2xl",placeholder:""},null,512),[[z,a.value.keterangan]]),e("div",ge,u(n.keterangan),1)])]),_e])])])]),_:1})):F("",!0)])])])])])],64)}}};export{De as default};
